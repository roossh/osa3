{"version":3,"sources":["components/Person.js","components/Persons.js","components/PersonForm.js","components/Filter.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Person","_ref","person","deletePerson","react_default","a","createElement","key","name","number","onClick","Persons","persons","map","components_Person","PersonForm","addPerson","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","value","onChange","type","Filter","searchName","handleSearchNameChange","Notification","notification","message","style","color","fontStyle","fontSize","border","borderRadius","padding","marginBottom","baseUrl","services_persons","axios","get","newObject","post","id","put","concat","delete","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setSearchName","_useState9","_useState10","setNotification","useEffect","personService","then","response","data","notify","arguments","length","undefined","console","log","setTimeout","personsToShow","filter","p","toLowerCase","includes","components_Notification","components_Filter","event","target","components_PersonForm","preventDefault","personObject","personExists","find","window","confirm","returnedPerson","catch","error","createdPerson","components_Persons","newPersons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.123aa118.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = ({person, deletePerson}) =>  {\r\n    return(\r\n        <p key={person.name}>{person.name} {person.number} <button onClick={() => deletePerson(person)}>poista</button></p>\r\n    )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = ({persons, deletePerson}) => {\r\n    const rows = () => persons.map(person =>\r\n    <Person person={person} key={person.name} deletePerson={deletePerson} />)\r\n    return (\r\n        <div>\r\n        {rows()}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst PersonForm = ({addPerson, newName, newNumber, handleNameChange, handleNumberChange}) => {\r\n    \r\n    return(\r\n        <form onSubmit={addPerson}>\r\n        <div>\r\n          nimi: <input value={newName} onChange={handleNameChange}/>\r\n          numero: <input value={newNumber} onChange={handleNumberChange} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">lisää</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Filter = ({searchName, handleSearchNameChange}) => {\r\n    return(\r\n        <p>rajaa näytettäviä: <input value={searchName} onChange={handleSearchNameChange}/></p>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Notification =({notification}) => {\r\n    if (notification.message === null) {\r\n        return null\r\n    }\r\n\r\n    const style = {\r\n        color: notification.type === 'error' ? 'red' : 'green',\r\n        fontStyle: 'italic',\r\n        fontSize:20,\r\n        border: 'dotted',\r\n        borderRadius:5,\r\n        padding:10,\r\n        marginBottom:10\r\n    }\r\n\r\n    return (\r\n        <div style={style}>\r\n            {notification.message}\r\n        </div>\r\n    )\r\n}\r\nexport default Notification","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n    return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n    return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst deleteObject = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nexport default { getAll, create, update, deleteObject }","import React, { useState, useEffect } from 'react'\r\nimport Persons from './components/Persons'\r\nimport PersonForm from './components/PersonForm'\r\nimport Filter from './components/Filter'\r\nimport Notification from './components/Notification'\r\nimport personService from './services/persons'\r\n\r\nconst App = () => {\r\n\r\n  const [ persons, setPersons ] = useState([])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber] = useState('')\r\n  const [ searchName, setSearchName ] = useState('')\r\n\r\n  const [ notification, setNotification ] = useState({message:null})\r\n  \r\n  useEffect(() => {\r\n      personService\r\n        .getAll()\r\n        .then(response => {\r\n          setPersons(response.data)\r\n        })\r\n  }, [])\r\n\r\n\r\n  const notify = (message, type='success') => {\r\n    console.log(message)\r\n    setNotification({message, type})\r\n    setTimeout(() => setNotification({message: null}), 5000)\r\n  }\r\n\r\n  const addPerson = (event) => {\r\n      event.preventDefault()\r\n      const personObject = {\r\n          name: newName,\r\n          number: newNumber\r\n      }\r\n      let personExists = persons.find(person => person.name.toLowerCase() === personObject.name.toLowerCase())\r\n      if (personExists) {\r\n          if (window.confirm(`Henkilö ${personObject.name} on jo luettelossa. Korvataanko henkilön numero uudella?`)) {\r\n            personService\r\n              .update(personExists.id, personObject)\r\n              .then(returnedPerson => {\r\n                setPersons(persons.map(person => person.id !== personObject.id ? person : returnedPerson))\r\n                notify(`Henkilön ${personExists.name} numeroa on muutettu`)\r\n              })\r\n              .catch(error => {\r\n                setPersons(persons.filter(p => p.id !== personExists.id))\r\n                notify(`Henkilö ${personExists.name} on jo poistettu puhelinluettelosta`, 'error')\r\n              })\r\n          }\r\n      } else {\r\n        personService\r\n          .create(personObject)\r\n          .then(createdPerson => {\r\n            setPersons(persons.concat(createdPerson))\r\n            setNewName('')\r\n            setNewNumber('')\r\n            notify(`Henkilö ${personObject.name} lisätty puhelinluetteloon`)\r\n          })\r\n          .catch(error => {\r\n            notify(error.response.data.error, 'error')\r\n          })\r\n      }\r\n  }\r\n\r\n  const deletePerson = (person) => {\r\n    if (window.confirm(`Poistetaanko henkilö ${person.name} puhelinluettelosta?`)) {\r\n      personService\r\n        .deleteObject(person.id)\r\n      const newPersons = persons.filter(p=>p.id !== person.id)\r\n      setPersons(newPersons)\r\n      notify(`Henkilön ${person.name} numero poistettu.`)\r\n    }\r\n  }\r\n\r\n  const handleNameChange = (event) => {\r\n      setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n      setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleSearchNameChange = (event) => {\r\n      setSearchName(event.target.value)\r\n  }\r\n\r\n  const personsToShow = searchName.length === 0\r\n    ? persons\r\n    : persons.filter(p => p.name.toLowerCase().includes(searchName.toLowerCase()))\r\n\r\n  return (\r\n    <div>\r\n      <h2>Puhelinluettelo</h2>\r\n      <Notification notification={notification} />\r\n      <Filter searchName={searchName} handleSearchNameChange={handleSearchNameChange} />\r\n      <PersonForm addPerson={addPerson} newName={newName} newNumber={newNumber} handleNameChange={handleNameChange} handleNumberChange={handleNumberChange}/>\r\n      <h2>Numerot</h2>\r\n      <Persons persons={personsToShow} deletePerson={deletePerson} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\n\n  ReactDOM.render(\n    <App />,\n    document.getElementById('root')\n  )"],"sourceRoot":""}