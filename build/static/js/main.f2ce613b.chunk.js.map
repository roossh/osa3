{"version":3,"sources":["components/Person.js","components/Persons.js","components/PersonForm.js","components/Filter.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Person","_ref","person","deletePerson","react_default","a","createElement","key","name","number","onClick","Persons","persons","map","components_Person","PersonForm","addPerson","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","value","onChange","type","Filter","searchName","handleSearchNameChange","Notification","notification","message","style","color","fontStyle","fontSize","border","borderRadius","padding","marginBottom","baseUrl","services_persons","axios","get","then","response","data","newObject","post","put","concat","id","delete","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setSearchName","_useState9","_useState10","setNotification","useEffect","personService","notify","arguments","length","undefined","setTimeout","personsToShow","filter","p","toLowerCase","includes","components_Notification","components_Filter","event","target","components_PersonForm","preventDefault","personObject","personExists","find","window","confirm","objectSpread","returnedPerson","catch","error","createdPerson","components_Persons","newPersons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.f2ce613b.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = ({person, deletePerson}) =>  {\r\n    return(\r\n        <p key={person.name}>{person.name} {person.number} <button onClick={() => deletePerson(person)}>poista</button></p>\r\n    )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = ({persons, deletePerson}) => {\r\n    const rows = () => persons.map(person =>\r\n    <Person person={person} key={person.name} deletePerson={deletePerson} />)\r\n    return (\r\n        <div>\r\n        {rows()}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst PersonForm = ({addPerson, newName, newNumber, handleNameChange, handleNumberChange}) => {\r\n    \r\n    return(\r\n        <form onSubmit={addPerson}>\r\n        <div>\r\n          nimi: <input value={newName} onChange={handleNameChange}/>\r\n          numero: <input value={newNumber} onChange={handleNumberChange} />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">lisää</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Filter = ({searchName, handleSearchNameChange}) => {\r\n    return(\r\n        <p>rajaa näytettäviä: <input value={searchName} onChange={handleSearchNameChange}/></p>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Notification =({notification}) => {\r\n    if (notification.message === null) {\r\n        return null\r\n    }\r\n\r\n    const style = {\r\n        color: notification.type === 'error' ? 'red' : 'green',\r\n        fontStyle: 'italic',\r\n        fontSize:20,\r\n        border: 'dotted',\r\n        borderRadius:5,\r\n        padding:10,\r\n        marginBottom:10\r\n    }\r\n\r\n    return (\r\n        <div style={style}>\r\n            {notification.message}\r\n        </div>\r\n    )\r\n}\r\nexport default Notification","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const promise = axios.get(baseUrl)\r\n\r\n    return promise.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const promise = axios.post(baseUrl, newObject)\r\n\r\n    return promise.then(response => response.data)\r\n}\r\n\r\nconst replace = (person) => {\r\n    const promise = axios.put(`${baseUrl}/${person.id}`, person)\r\n\r\n    return promise.then(response => response.data)\r\n}\r\n\r\nconst deleteObject = (person) => {\r\n    const promise = axios.delete(`${baseUrl}/${person.id}`, person)\r\n\r\n    return promise.then(response => response.data)\r\n}\r\n\r\nexport default { getAll, create, replace, deleteObject }","import React, { useState, useEffect } from 'react'\r\nimport Persons from './components/Persons'\r\nimport PersonForm from './components/PersonForm'\r\nimport Filter from './components/Filter'\r\nimport Notification from './components/Notification'\r\nimport personService from './services/persons'\r\n\r\nconst App = () => {\r\n\r\n  const [ persons, setPersons ] = useState([])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber] = useState('')\r\n  const [ searchName, setSearchName ] = useState('')\r\n\r\n  const [ notification, setNotification ] = useState({message:null})\r\n  \r\n  useEffect(() => {\r\n      personService\r\n        .getAll()\r\n        .then(data => {\r\n          setPersons(data)\r\n        })\r\n  }, [])\r\n\r\n\r\n  const notify = (message, type='success') => {\r\n    setNotification({message, type})\r\n    setTimeout(() => setNotification({message: null}), 5000)\r\n  }\r\n\r\n  const addPerson = (event) => {\r\n      event.preventDefault()\r\n      const personObject = {\r\n          name: newName,\r\n          number: newNumber\r\n      }\r\n      let personExists = persons.find(person => person.name.toLowerCase() === personObject.name.toLowerCase())\r\n      if (personExists) {\r\n          if (window.confirm(`Henkilö ${personObject.name} on jo luettelossa. Korvataanko henkilön numero uudella?`)) {\r\n            personService\r\n              .replace({\r\n                ...personExists,\r\n                number: newNumber\r\n              })\r\n              .then(returnedPerson => {\r\n                setPersons(persons.map(person => person.name === personObject.name ? person : returnedPerson))\r\n                notify(`Henkilön ${personExists.name} numeroa on muutettu`)\r\n              })\r\n              .catch(error => {\r\n                setPersons(persons.filter(p => p.id !== personExists.id))\r\n                notify(`Henkilö ${personExists.name} on jo poistettu puhelinluettelosta`, 'error')\r\n              })\r\n          }\r\n        return\r\n      }\r\n\r\n  personService\r\n    .create(personObject)\r\n    .then(createdPerson => {\r\n      setPersons(persons.concat(createdPerson))\r\n      setNewName('')\r\n      setNewNumber('')\r\n      notify(`Henkilö ${personObject.name} lisätty puhelinluetteloon`)\r\n    })\r\n    .catch(error => {\r\n      notify(error.response.data.error, 'error')\r\n    }) \r\n  }\r\n\r\n  const deletePerson = (person) => {\r\n    if (window.confirm(`Poistetaanko henkilö ${person.name} puhelinluettelosta?`)) {\r\n      personService\r\n        .deleteObject(person)\r\n      const newPersons = persons.filter(p=>p.id !== person.id)\r\n      setPersons(newPersons)\r\n      notify(`Henkilön ${person.name} numero poistettu.`)\r\n    }\r\n  }\r\n\r\n  const handleNameChange = (event) => {\r\n      setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n      setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleSearchNameChange = (event) => {\r\n      setSearchName(event.target.value)\r\n  }\r\n\r\n  const personsToShow = searchName.length === 0\r\n    ? persons\r\n    : persons.filter(p => p.name.toLowerCase().includes(searchName.toLowerCase()))\r\n\r\n  return (\r\n    <div>\r\n      <h2>Puhelinluettelo</h2>\r\n      <Notification notification={notification} />\r\n      <Filter searchName={searchName} handleSearchNameChange={handleSearchNameChange} />\r\n      <PersonForm addPerson={addPerson} newName={newName} newNumber={newNumber} handleNameChange={handleNameChange} handleNumberChange={handleNumberChange}/>\r\n      <h2>Numerot</h2>\r\n      <Persons persons={personsToShow} deletePerson={deletePerson} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\n\n  ReactDOM.render(\n    <App />,\n    document.getElementById('root')\n  )"],"sourceRoot":""}